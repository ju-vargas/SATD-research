`timescale 1ns / 1ps
//////////////////////////////////////////////////////////////////////////////////
// Company: 
// Engineer: 
// 
// Create Date: 03/06/2024 10:34:08 PM
// Design Name: 
// Module Name: comb_precise_tb
// Project Name: 
// Target Devices: 
// Tool Versions: 
// Description: 
// 
// Dependencies: 
// 
// Revision:
// Revision 0.01 - File Created
// Additional Comments:
// 
//////////////////////////////////////////////////////////////////////////////////


module comb_precise_tb;

    parameter LENGTH = 11;
    parameter WIDTH = 8;
    parameter HEIGHT = 16;
    
    reg clk;
    reg rst;
    reg ena;
    reg [(HEIGHT*WIDTH)*(LENGTH+1)-1:0] ORG;
    reg [(HEIGHT*WIDTH)*(LENGTH+1)-1:0] CUR;
    wire [(LENGTH+11+4):0] satd;
    
    // Instantiate the comb_precise module
    comb_precise #(
        .LENGTH(LENGTH),
        .WIDTH(WIDTH),
        .HEIGHT(HEIGHT)
    ) dut (
        .clk(clk),
        .rst(rst),
        .ena(ena),
        .ORG(ORG),
        .CUR(CUR),
        .satd(satd)
    );
    
    // Clock generation
    always begin
        #5 clk = ~clk;
    end
    
    // Test initialization
    initial begin
        clk <= 0;
        rst <= 1;
        ena <= 1;
        ORG <= 0;
        CUR <= 0;
    
    
    
        #10; // Wait for reset to deassert
    
        rst <= 0;
    
        // Apply test data here
        //todos de uma vez
        CUR <= {
            12'b001101011110, //862        
            12'b110010111001, //3257      
            12'b000101101101, //365      
            12'b111001100011, //3683      
            12'b010111010101, //1493      
            12'b100101110001, //2417       
            12'b011111001010, //1994      
            12'b101100101110, //2862       
            12'b000111010011, //467      
            12'b110010011101, //3229       
            12'b010011111000, //1272      
            12'b100110110110, //2486       
            12'b011101100111, //1895      
            12'b111010010010, //3730      
            12'b001110010101, //917      
            12'b101010101010, //2730             //16 valores
            12'b001011101110, //750       
            12'b111001010010, //3666      
            12'b000110011110, //414      
            12'b110110010001, //3473       
            12'b010110101111, //1455      
            12'b100011111010, //2298       
            12'b011001010011, //1619      
            12'b101010011110, //2718       
            12'b001101111001, //889       
            12'b110100111000, //3384       
            12'b011111010101, //2005      
            12'b101000110101, //2613       
            12'b000111010101, //469      
            12'b111101010001, //3921      
            12'b010011011110, //1246      
            12'b100111001010, //2506             //16 valores
            12'b000100110011, //307      
            12'b110110011101, //3485       
            12'b001101010010, //850       
            12'b111011001100, //3788      
            12'b010010110111, //1207      
            12'b100010011001, //2201       
            12'b011101001110, //1870      
            12'b101010010111, //2711       
            12'b000111100010, //482      
            12'b111001110110, //3702      
            12'b011110100101, //1957      
            12'b100011001101, //2253       
            12'b001011110101, //757       
            12'b110010110010, //3250       
            12'b010101010101, //1365      
            12'b101011001011, //2763             //16 valores
            12'b000110011000, //408      
            12'b110101110001, //3441       
            12'b001101001110, //846       
            12'b111010110100, //3764      
            12'b010011001110, //1230      
            12'b100101001010, //2378       
            12'b011110010101, //1941      
            12'b101010010011, //2707       
            12'b000101011011, //347      
            12'b111000110101, //3637      
            12'b011101010111, //1879      
            12'b100100101011, //2347       
            12'b001011011010, //730       
            12'b110010111001, //3257       
            12'b010111011100, //1500      
            12'b101001101100, //2668             //16 valores
            12'b001010010111, //663       
            12'b110011001100, //3276       
            12'b000111010101, //469      
            12'b111010101011, //3755      
            12'b010011101001, //1257      
            12'b100101011110, //2398       
            12'b011110010001, //1937      
            12'b101001101111, //2671       
            12'b001111100011, //995       
            12'b111011001110, //3790      
            12'b011101010110, //1878      
            12'b100101101010, //2410       
            12'b001001111100, //636       
            12'b110101001011, //3403       
            12'b010110010111, //1431      
            12'b101011100101, //2789            //16 valores
            12'b001101110010, //882       
            12'b110111001101, //3533       
            12'b000111011101, //477      
            12'b111011010001, //3793      
            12'b010101101111, //1391      
            12'b100111010100, //2516       
            12'b011011010110, //1750      
            12'b101010111001, //2745       
            12'b001100101011, //811       
            12'b111001001010, //3658      
            12'b011110010111, //1943      
            12'b100010101001, //2217       
            12'b001010110011, //691       
            12'b110100110001, //3377       
            12'b010111011110, //1502      
            12'b101100010010, //2834             //16 valores    
            12'b001011011101, //733       
            12'b110011010001, //3281       
            12'b000110101010, //426      
            12'b111000110001, //3633      
            12'b010010111010, //1210      
            12'b100110011101, //2461       
            12'b011101100010, //1890      
            12'b101001011101, //2653       
            12'b001110010011, //915      
            12'b110101001110, //3406       
            12'b011011101010, //1770      
            12'b100111100011, //2531       
            12'b001001110110, //630       
            12'b111011010101, //3797      
            12'b010111001101, //1485      
            12'b101101101001, //2921            //16 valores
            12'b001101101110, //878       
            12'b110010111010, //3258       
            12'b000101011101, //349      
            12'b111000110001, //3633      
            12'b010111010101, //1493      
            12'b100101110011, //2419       
            12'b011110101010, //1962      
            12'b101001101110, //2670       
            12'b001110011011, //923      
            12'b111010010110, //3734      
            12'b011001111010, //1658      
            12'b100110100111, //2471       
            12'b001010111011, //699       
            12'b110100010101, //3349       
            12'b010011010110, //1238      
            12'b101101010100  //2900             //16 valores
    };         
    
        ORG <= {   
            12'b100101011110, //2398       
            12'b001011101110, //750       
            12'b111001010010, //3666      
            12'b000110011110, //414      
            12'b110110010001, //3473       
            12'b010110101111, //1455 
            12'b100101110001, //2417       
            12'b011111001010, //1994      
            12'b101100101110, //2862         
            12'b011001010011, //1619      
            12'b101010011110, //2718       
            12'b001101111001, //889       
            12'b110100111000, //3384       
            12'b011111010101, //2005      
            12'b101000110101, //2613       
            12'b000111010101, //469      
            12'b001011011010, //730       
            12'b110010111001, //3257       
            12'b010111011100, //1500      
            12'b101001101100, //2668             
            12'b001010010111, //663               
            12'b111101010001, //3921      
            12'b010011011110, //1246      
            12'b100111001010, //2506             
            12'b000100110011, //307      
            12'b110110011101, //3485       
            12'b001101010010, //850       
            12'b111011001100, //3788      
            12'b010010110111, //1207      
            12'b100010011001, //2201       
            12'b011101001110, //1870      
            12'b101010010111, //2711       
            12'b000111100010, //482      
            12'b111001110110, //3702      
            12'b011110100101, //1957      
            12'b100011001101, //2253       
            12'b001011110101, //757       
            12'b110010110010, //3250       
            12'b010101010101, //1365      
            12'b101011001011, //2763             
            12'b000110011000, //408      
            12'b110101110001, //3441       
            12'b001101001110, //846       
            12'b111010110100, //3764      
            12'b010011001110, //1230      
            12'b100101001010, //2378       
            12'b011110010101, //1941      
            12'b101010010011, //2707       
            12'b000101011011, //347      
            12'b111000110101, //3637      
            12'b011101010111, //1879      
            12'b100100101011, //2347       
            12'b110011001100, //3276       
            12'b000111010101, //469      
            12'b111010101011, //3755      
            12'b010011101001, //1257      
            12'b011110010001, //1937      
            12'b101001101111, //2671       
            12'b001111100011, //995       
            12'b111011001110, //3790      
            12'b011101010110, //1878      
            12'b100101101010, //2410       
            12'b001001111100, //636       
            12'b110101001011, //3403       
            12'b010110010111, //1431      
            12'b101011100101, //2789            
            12'b011011101010, //1770      
            12'b100111100011, //2531       
            12'b001001110110, //630       
            12'b111011010101, //3797      
            12'b010111001101, //1485      
            12'b101101101001, //2921            
            12'b001101110010, //882       
            12'b110111001101, //3533       
            12'b000111011101, //477      
            12'b111011010001, //3793      
            12'b010101101111, //1391      
            12'b100111010100, //2516       
            12'b011011010110, //1750      
            12'b101010111001, //2745       
            12'b001100101011, //811       
            12'b111001001010, //3658      
            12'b011110010111, //1943      
            12'b100010101001, //2217       
            12'b001010110011, //691       
            12'b110100110001, //3377       
            12'b010111011110, //1502      
            12'b101100010010, //2834                 
            12'b001011011101, //733       
            12'b110011010001, //3281       
            12'b000110101010, //426      
            12'b111000110001, //3633      
            12'b010010111010, //1210      
            12'b100110011101, //2461       
            12'b011101100010, //1890      
            12'b101001011101, //2653       
            12'b001110010011, //915      
            12'b110101001110, //3406       
            12'b001101101110, //878       
            12'b110010111010, //3258       
            12'b000101011101, //349      
            12'b000111010011, //467      
            12'b110010011101, //3229       
            12'b010011111000, //1272           
            12'b100011111010, //2298      
            12'b111000110001, //3633      
            12'b010111010101, //1493      
            12'b100101110011, //2419       
            12'b011110101010, //1962      
            12'b101001101110, //2670       
            12'b001110011011, //923    
            12'b001101011110, //862        
            12'b110010111001, //3257      
            12'b000101101101, //365      
            12'b111001100011, //3683      
            12'b010111010101, //1493   
            12'b100110110110, //2486       
            12'b011101100111, //1895      
            12'b111010010010, //3730      
            12'b001110010101, //917      
            12'b101010101010, //2730            
            12'b111010010110, //3734      
            12'b011001111010, //1658      
            12'b100110100111, //2471       
            12'b001010111011, //699       
            12'b110100010101, //3349       
            12'b010011010110, //1238      
            12'b101101010100  //2900             
    };         
             
            #15
            ena <= 0;
            
            
        
        // ...
    
        #100; // Run the test for some time
    
        $finish;
    end
    
    // Monitor output
    always @(posedge clk) begin
        if (ena) begin
            $display("satd: %d", satd);
        end
    end
    
endmodule
    
    